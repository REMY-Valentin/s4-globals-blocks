(()=>{"use strict";var e,l={592:()=>{const e=window.wp.blocks,l=window.wp.i18n,s=window.wp.blockEditor,o=window.wp.data,a=window.wp.components,t=window.wp.element,i=window.wp.primitives,n=window.ReactJSXRuntime,r=(0,n.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(i.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})}),c=(0,t.memo)((({isOpen:e,onClose:s,permissions:o,onPermissionChange:t})=>e?(0,n.jsx)(a.Modal,{title:(0,l.__)("Configuration des permissions","s4-globals-blocks"),onRequestClose:s,className:"s4-permissions-modal",children:(0,n.jsxs)("div",{style:{padding:"20px"},children:[(0,n.jsx)("h3",{children:(0,l.__)("Sections accessibles aux utilisateurs","s4-globals-blocks")}),(0,n.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,n.jsx)("p",{style:{color:"#666",fontSize:"13px",marginBottom:"15px"},children:(0,l.__)("Sélectionnez les sections que vous souhaitez rendre accessibles aux utilisateurs non-administrateurs.","s4-globals-blocks")}),(0,n.jsxs)("div",{style:{display:"grid",gap:"10px"},children:[(0,n.jsx)(a.ToggleControl,{label:(0,l.__)("Dimensions","s4-globals-blocks"),checked:o.dimensions,onChange:e=>t("dimensions",e),help:(0,l.__)("Permet de modifier la hauteur du carrousel","s4-globals-blocks")}),(0,n.jsx)(a.ToggleControl,{label:(0,l.__)("Navigation","s4-globals-blocks"),checked:o.navigation,onChange:e=>t("navigation",e),help:(0,l.__)("Permet de configurer les flèches et points de navigation","s4-globals-blocks")}),(0,n.jsx)(a.ToggleControl,{label:(0,l.__)("Ajustement des images","s4-globals-blocks"),checked:o.imageAdjustment,onChange:e=>t("imageAdjustment",e),help:(0,l.__)("Permet de configurer l'affichage des images (cover/contain)","s4-globals-blocks")}),(0,n.jsx)(a.ToggleControl,{label:(0,l.__)("Lecture automatique","s4-globals-blocks"),checked:o.autoplay,onChange:e=>t("autoplay",e),help:(0,l.__)("Permet de configurer la lecture automatique","s4-globals-blocks")}),(0,n.jsx)(a.ToggleControl,{label:(0,l.__)("Personnalisation CSS","s4-globals-blocks"),checked:o.cssCustomization,onChange:e=>t("cssCustomization",e),help:(0,l.__)("Permet d'ajouter des classes CSS personnalisées","s4-globals-blocks")}),(0,n.jsx)(a.ToggleControl,{label:(0,l.__)("Paramètres responsifs","s4-globals-blocks"),checked:o.responsive,onChange:e=>t("responsive",e),help:(0,l.__)("Permet de configurer le comportement sur différents écrans","s4-globals-blocks")})]})]}),(0,n.jsx)("div",{style:{marginTop:"20px",textAlign:"right"},children:(0,n.jsx)(a.Button,{variant:"primary",onClick:s,children:(0,l.__)("Fermer","s4-globals-blocks")})})]})}):null)),g=JSON.parse('{"UU":"s4-globals-blocks/s4-blocks-carousel"}');(0,e.registerBlockType)(g.UU,{edit:function({attributes:e,setAttributes:i}){const g=(0,t.useRef)(null),d=e.images||[],[u,b]=(0,t.useState)(!1),{items:p=1,loop:m=!0,margin:h=10,nav:v=!0,dots:x=!0,autoplay:_=!0,autoplayTimeout:C=5e3,autoplayHoverPause:j=!0,height:k=400,heightUnit:f="px",minHeight:y=200,imageFit:w="cover",overflowHidden:S=!0}=((0,o.useSelect)((e=>e("core").getCurrentUser()),[]),e.permissions,e);(0,t.useEffect)((()=>{if(g.current&&d.length>0){const l=jQuery(g.current);l.data("owl.carousel")&&(l.trigger("destroy.owl.carousel"),l.removeClass("owl-loaded owl-drag"),l.find(".owl-stage-outer, .owl-stage, .owl-item, .owl-nav, .owl-dots, .owl-dot").remove(),l.find(".item").css({width:"",position:"",display:""}));const s=()=>{switch(e.navStyle){case"bootstrap":return[`<i class="bi ${e.bootstrapPrevIcon}"></i>`,`<i class="bi ${e.bootstrapNextIcon}"></i>`];case"custom":return e.useCustomNav&&e.navPrevImage&&e.navNextImage?[`<img src="${e.navPrevImage.url}" alt="${e.navPrevImage.alt||"Previous"}" class="owl-nav-custom-img" />`,`<img src="${e.navNextImage.url}" alt="${e.navNextImage.alt||"Next"}" class="owl-nav-custom-img" />`]:['<span aria-label="Previous">‹</span>','<span aria-label="Next">›</span>'];default:return['<span aria-label="Previous">‹</span>','<span aria-label="Next">›</span>']}};l.owlCarousel({items:p,loop:m,margin:h,nav:v,dots:x,autoplay:_,autoplayTimeout:C,autoplayHoverPause:j,mouseDrag:!1,pullDrag:!1,freeDrag:!1,touchDrag:!0,smartSpeed:500,navText:s(),dotsClass:"bootstrap"===e.navStyle?"owl-dots d-flex justify-content-center":"owl-dots",dotClass:"bootstrap"===e.navStyle?"owl-dot mx-2":"owl-dot",responsive:{0:{items:Math.min(1,p),nav:v},600:{items:Math.min(2,p),nav:v},1e3:{items:Math.min(3,p),nav:v}}});const o=g.current.querySelector(".owl-stage-outer");o&&(o.style.overflow=S?"hidden":"visible")}return()=>{if(g.current){const e=jQuery(g.current).data("owl.carousel");e&&e.destroy()}}}),[d,p,m,h,v,x,_,C,j,S,e.navStyle,e.bootstrapPrevIcon,e.bootstrapNextIcon,e.useCustomNav,e.navPrevImage,e.navNextImage]);const P=(0,s.useBlockProps)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.InspectorControls,{children:[(0,n.jsxs)("div",{style:{padding:"10px",background:"#f0f0f0",borderBottom:"1px solid #e2e4e7",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsx)("span",{style:{fontSize:"13px",color:"#1e1e1e"},children:(0,l.__)("Mode administrateur Section4","s4-globals-blocks")}),(0,n.jsx)(a.Button,{icon:(0,n.jsx)(a.Icon,{icon:r}),onClick:()=>b(!0),variant:"secondary",isSmall:!0,children:(0,l.__)("Options dev","s4-globals-blocks")})]}),(0,n.jsxs)(a.PanelBody,{title:(0,l.__)("Images","s4-globals-blocks"),initialOpen:!0,children:[(0,n.jsx)(s.MediaUploadCheck,{children:(0,n.jsx)(s.MediaUpload,{onSelect:e=>{i({images:e.map((e=>({id:e.id,url:e.url,alt:e.alt||""})))})},allowedTypes:["image"],multiple:!0,value:d.map((e=>e.id)),render:({open:e})=>(0,n.jsx)(a.Button,{onClick:e,variant:"primary",className:"components-button",children:(0,l.__)("Choisir des images","s4-globals-blocks")})})}),d.length>0&&(0,n.jsxs)("div",{className:"s4-carousel-image-preview",style:{marginTop:"10px"},children:[(0,n.jsx)("p",{style:{marginBottom:"8px",fontSize:"12px",color:"#757575"},children:(0,l.__)("Images sélectionnées:","s4-globals-blocks")}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gap:"8px",marginBottom:"16px"},children:d.map(((e,l)=>(0,n.jsxs)("div",{style:{position:"relative"},children:[(0,n.jsx)("img",{src:e.url,alt:e.alt,style:{width:"100%",height:"60px",objectFit:"cover",borderRadius:"4px",border:"1px solid #ddd"}}),(0,n.jsx)(a.Button,{isSmall:!0,isDestructive:!0,onClick:()=>(e=>{g.current&&jQuery(g.current).data("owl.carousel")&&jQuery(g.current).trigger("destroy.owl.carousel");const l=d.filter(((l,s)=>s!==e));i({images:l})})(l),style:{position:"absolute",top:"-8px",right:"-8px",padding:"2px",minWidth:"20px",height:"20px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:"×"})]},l)))})]})]}),(0,n.jsxs)(a.PanelBody,{title:(0,l.__)("Dimensions","s4-globals-blocks"),initialOpen:!1,children:[(0,n.jsx)(a.RangeControl,{label:(0,l.__)("Hauteur du carrousel","s4-globals-blocks"),value:k,onChange:e=>i({height:e}),min:"vh"===f?1:200,max:"vh"===f?100:1e3,step:"vh"===f?1:10}),(0,n.jsx)(a.RangeControl,{label:(0,l.__)("Hauteur minimale (px)","s4-globals-blocks"),value:y,onChange:e=>i({minHeight:e}),min:100,max:800,step:10})]}),(0,n.jsxs)(a.PanelBody,{title:(0,l.__)("Navigation","s4-globals-blocks"),initialOpen:!1,children:[(0,n.jsx)(a.ToggleControl,{label:(0,l.__)("Flèches de navigation","s4-globals-blocks"),checked:v,onChange:e=>i({nav:e})}),v&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.SelectControl,{label:(0,l.__)("Style de navigation","s4-globals-blocks"),value:e.navStyle,options:[{label:(0,l.__)("Par défaut","s4-globals-blocks"),value:"default"},{label:(0,l.__)("Bootstrap","s4-globals-blocks"),value:"bootstrap"},{label:(0,l.__)("Personnalisé","s4-globals-blocks"),value:"custom"}],onChange:e=>i({navStyle:e})}),"bootstrap"===e.navStyle&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.SelectControl,{label:(0,l.__)("Icône précédente","s4-globals-blocks"),value:e.bootstrapPrevIcon,options:[{label:"Chevron Left",value:"bi-chevron-left"},{label:"Arrow Left",value:"bi-arrow-left"},{label:"Caret Left",value:"bi-caret-left"},{label:"Arrow Left Circle",value:"bi-arrow-left-circle"},{label:"Arrow Left Circle Fill",value:"bi-arrow-left-circle-fill"},{label:"Arrow Left Square",value:"bi-arrow-left-square"},{label:"Arrow Left Square Fill",value:"bi-arrow-left-square-fill"},{label:"Chevron Double Left",value:"bi-chevron-double-left"},{label:"Folder",value:"bi-folder"}],onChange:e=>i({bootstrapPrevIcon:e})}),(0,n.jsx)(a.SelectControl,{label:(0,l.__)("Icône suivante","s4-globals-blocks"),value:e.bootstrapNextIcon,options:[{label:"Chevron Right",value:"bi-chevron-right"},{label:"Arrow Right",value:"bi-arrow-right"},{label:"Caret Right",value:"bi-caret-right"},{label:"Arrow Right Circle",value:"bi-arrow-right-circle"},{label:"Arrow Right Circle Fill",value:"bi-arrow-right-circle-fill"},{label:"Arrow Right Square",value:"bi-arrow-right-square"},{label:"Arrow Right Square Fill",value:"bi-arrow-right-square-fill"},{label:"Chevron Double Right",value:"bi-chevron-double-right"},{label:"Folder",value:"bi-folder"}],onChange:e=>i({bootstrapNextIcon:e})})]}),"custom"===e.navStyle&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.ToggleControl,{label:(0,l.__)("Utiliser des images personnalisées","s4-globals-blocks"),checked:e.useCustomNav,onChange:e=>i({useCustomNav:e})}),e.useCustomNav&&(0,n.jsxs)("div",{style:{marginTop:"10px"},children:[(0,n.jsx)("p",{style:{marginBottom:"8px"},children:(0,l.__)("Image flèche précédente","s4-globals-blocks")}),(0,n.jsx)(s.MediaUploadCheck,{children:(0,n.jsx)(s.MediaUpload,{onSelect:e=>{i({navPrevImage:{id:e.id,url:e.url,alt:e.alt||""}})},allowedTypes:["image"],value:e.navPrevImage?.id,render:({open:s})=>(0,n.jsx)("div",{children:e.navPrevImage?(0,n.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,n.jsx)("img",{src:e.navPrevImage.url,alt:e.navPrevImage.alt,style:{maxWidth:"50px",height:"auto",cursor:"pointer",marginBottom:"8px"},onClick:s}),(0,n.jsx)(a.Button,{isDestructive:!0,isSmall:!0,onClick:()=>i({navPrevImage:null}),style:{position:"absolute",top:"-8px",right:"-8px",padding:"2px",minWidth:"20px",height:"20px"},children:"×"})]}):(0,n.jsx)(a.Button,{onClick:s,variant:"secondary",isSmall:!0,children:(0,l.__)("Choisir une image","s4-globals-blocks")})})})}),(0,n.jsx)("p",{style:{marginBottom:"8px",marginTop:"16px"},children:(0,l.__)("Image flèche suivante","s4-globals-blocks")}),(0,n.jsx)(s.MediaUploadCheck,{children:(0,n.jsx)(s.MediaUpload,{onSelect:e=>{i({navNextImage:{id:e.id,url:e.url,alt:e.alt||""}})},allowedTypes:["image"],value:e.navNextImage?.id,render:({open:s})=>(0,n.jsx)("div",{children:e.navNextImage?(0,n.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,n.jsx)("img",{src:e.navNextImage.url,alt:e.navNextImage.alt,style:{maxWidth:"50px",height:"auto",cursor:"pointer",marginBottom:"8px"},onClick:s}),(0,n.jsx)(a.Button,{isDestructive:!0,isSmall:!0,onClick:()=>i({navNextImage:null}),style:{position:"absolute",top:"-8px",right:"-8px",padding:"2px",minWidth:"20px",height:"20px"},children:"×"})]}):(0,n.jsx)(a.Button,{onClick:s,variant:"secondary",isSmall:!0,children:(0,l.__)("Choisir une image","s4-globals-blocks")})})})}),(0,n.jsx)("p",{className:"components-base-control__help",style:{fontSize:"12px",color:"#757575",marginTop:"8px"},children:(0,l.__)("Formats recommandés : SVG ou PNG avec fond transparent","s4-globals-blocks")})]})]})]}),(0,n.jsx)(a.ToggleControl,{label:(0,l.__)("Points de navigation","s4-globals-blocks"),checked:x,onChange:e=>i({dots:e})})]}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.PanelBody,{title:(0,l.__)("Paramètres avancés","s4-globals-blocks"),initialOpen:!1,children:[(0,n.jsx)(a.SelectControl,{label:(0,l.__)("Unité de hauteur","s4-globals-blocks"),value:f,options:[{label:(0,l.__)("Pixels (px)","s4-globals-blocks"),value:"px"},{label:(0,l.__)("Rem (rem)","s4-globals-blocks"),value:"rem"},{label:(0,l.__)("Hauteur de la fenêtre (vh)","s4-globals-blocks"),value:"vh"}],onChange:e=>{i({heightUnit:e}),i("vh"===e?{height:50}:{height:400})}}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.SelectControl,{label:(0,l.__)("Ajustement de l'image","s4-globals-blocks"),value:w,options:[{label:(0,l.__)("Couvrir","s4-globals-blocks"),value:"cover"},{label:(0,l.__)("Contenir","s4-globals-blocks"),value:"contain"}],onChange:e=>i({imageFit:e})}),(0,n.jsx)(a.RangeControl,{label:(0,l.__)("Éléments à afficher","s4-globals-blocks"),value:p,onChange:e=>i({items:e}),min:1,max:5}),(0,n.jsx)(a.RangeControl,{label:(0,l.__)("Marge entre les éléments","s4-globals-blocks"),value:h,onChange:e=>i({margin:e}),min:0,max:50})]}),(0,n.jsx)(a.ToggleControl,{label:(0,l.__)("Masquer le débordement","s4-globals-blocks"),checked:S,onChange:e=>i({overflowHidden:e})})]}),(0,n.jsxs)(a.PanelBody,{title:(0,l.__)("Lecture automatique","s4-globals-blocks"),initialOpen:!1,children:[(0,n.jsx)(a.ToggleControl,{label:(0,l.__)("Activer la lecture automatique","s4-globals-blocks"),checked:_,onChange:e=>i({autoplay:e})}),_&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.RangeControl,{label:(0,l.__)("Délai d'autoplay (ms)","s4-globals-blocks"),value:C,onChange:e=>i({autoplayTimeout:e}),min:0,max:1e4,step:500}),(0,n.jsx)(a.ToggleControl,{label:(0,l.__)("Pause au survol","s4-globals-blocks"),checked:j,onChange:e=>i({autoplayHoverPause:e})}),(0,n.jsx)(a.ToggleControl,{label:(0,l.__)("Lecture en boucle","s4-globals-blocks"),checked:m,onChange:e=>i({loop:e})})]})]}),(0,n.jsxs)(a.PanelBody,{title:(0,l.__)("Personnalisation CSS","s4-globals-blocks"),initialOpen:!1,children:[(0,n.jsx)(a.TextControl,{label:(0,l.__)("Classe CSS personnalisée","s4-globals-blocks"),value:e.customClass||"",onChange:e=>i({customClass:e})}),(0,n.jsx)("p",{className:"components-base-control__help",style:{fontSize:"12px",color:"#757575",marginTop:"4px"},children:(0,l.__)("Ajoutez une classe CSS personnalisée pour styliser votre carrousel.","s4-globals-blocks")})]})]})]}),(0,n.jsx)(c,{isOpen:u,onClose:()=>b(!1),permissions:e.permissions,onPermissionChange:(l,s)=>{i({permissions:{...e.permissions,[l]:s}})}}),(0,n.jsx)("div",{...P,children:0===d.length?(0,n.jsx)("div",{style:{backgroundColor:"#f0f0f0",border:"2px dashed #999",padding:"20px",textAlign:"center",borderRadius:"4px",cursor:"pointer"},onClick:()=>{const e=document.querySelector(".block-editor-media-placeholder button.components-button");e&&e.click()},children:(0,n.jsx)("p",{style:{margin:"0",color:"#666"},children:(0,l.__)("Cliquez pour sélectionner des images pour le carrousel","s4-globals-blocks")})}):(0,n.jsx)("div",{ref:g,className:"owl-carousel owl-theme",style:{height:`${k}${f}`,minHeight:`${y}px`},children:d.map(((e,l)=>(0,n.jsx)("div",{className:"item",children:(0,n.jsx)("img",{src:e.url,alt:e.alt,style:{width:"100%",height:"100%",objectFit:w}})},l)))})})]})}})}},s={};function o(e){var a=s[e];if(void 0!==a)return a.exports;var t=s[e]={exports:{}};return l[e](t,t.exports,o),t.exports}o.m=l,e=[],o.O=(l,s,a,t)=>{if(!s){var i=1/0;for(g=0;g<e.length;g++){for(var[s,a,t]=e[g],n=!0,r=0;r<s.length;r++)(!1&t||i>=t)&&Object.keys(o.O).every((e=>o.O[e](s[r])))?s.splice(r--,1):(n=!1,t<i&&(i=t));if(n){e.splice(g--,1);var c=a();void 0!==c&&(l=c)}}return l}t=t||0;for(var g=e.length;g>0&&e[g-1][2]>t;g--)e[g]=e[g-1];e[g]=[s,a,t]},o.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={1:0,725:0};o.O.j=l=>0===e[l];var l=(l,s)=>{var a,t,[i,n,r]=s,c=0;if(i.some((l=>0!==e[l]))){for(a in n)o.o(n,a)&&(o.m[a]=n[a]);if(r)var g=r(o)}for(l&&l(s);c<i.length;c++)t=i[c],o.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return o.O(g)},s=globalThis.webpackChunks4_globals_blocks=globalThis.webpackChunks4_globals_blocks||[];s.forEach(l.bind(null,0)),s.push=l.bind(null,s.push.bind(s))})();var a=o.O(void 0,[725],(()=>o(592)));a=o.O(a)})();