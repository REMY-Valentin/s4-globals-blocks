(()=>{"use strict";var e,l={576:()=>{const e=window.wp.blocks,l=window.wp.i18n,o=window.wp.blockEditor,s=window.wp.components,a=window.wp.element,t=window.ReactJSXRuntime,r=JSON.parse('{"UU":"s4-globals-blocks/s4-globals-blocks-2"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r}){const n=(0,a.useRef)(null),i=e.images||[],{items:c=1,loop:u=!0,margin:g=10,nav:b=!0,dots:p=!0,autoplay:d=!0,autoplayTimeout:m=5e3,autoplayHoverPause:h=!0,height:v=400,heightUnit:x="px",minHeight:_=200,imageFit:j="cover",overflowHidden:k=!0}=e;return(0,a.useEffect)((()=>{if(n.current&&i.length>0){jQuery(n.current).data("owl.carousel")&&jQuery(n.current).trigger("destroy.owl.carousel"),jQuery(n.current).owlCarousel({items:c,loop:u,margin:g,nav:b,dots:p,autoplay:d,autoplayTimeout:m,autoplayHoverPause:h,mouseDrag:!1,pullDrag:!1,freeDrag:!1,touchDrag:!0,smartSpeed:500,responsive:{0:{items:Math.min(1,c),nav:b},600:{items:Math.min(2,c),nav:b},1e3:{items:Math.min(3,c),nav:b}}});const e=n.current.querySelector(".owl-stage-outer");e&&(e.style.overflow=k?"hidden":"visible")}return()=>{n.current&&jQuery(n.current).trigger("destroy.owl.carousel")}}),[i,c,u,g,b,p,d,m,h,k]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.InspectorControls,{children:(0,t.jsxs)(s.PanelBody,{title:(0,l.__)("Paramètres du carrousel","s4-globals-blocks"),children:[(0,t.jsx)(o.MediaUploadCheck,{children:(0,t.jsx)(o.MediaUpload,{onSelect:e=>{r({images:e.map((e=>({id:e.id,url:e.url,alt:e.alt||""})))})},allowedTypes:["image"],multiple:!0,value:i.map((e=>e.id)),render:({open:e})=>(0,t.jsx)(s.Button,{onClick:e,variant:"primary",className:"components-button",children:(0,l.__)("Choisir des images","s4-globals-blocks")})})}),i.length>0&&(0,t.jsxs)("div",{className:"s4-carousel-image-preview",style:{marginTop:"10px"},children:[(0,t.jsx)("p",{style:{marginBottom:"8px",fontSize:"12px",color:"#757575"},children:(0,l.__)("Images sélectionnées:","s4-globals-blocks")}),(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gap:"8px",marginBottom:"16px"},children:i.map(((e,l)=>(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsx)("img",{src:e.url,alt:e.alt,style:{width:"100%",height:"60px",objectFit:"cover",borderRadius:"4px",border:"1px solid #ddd"}}),(0,t.jsx)(s.Button,{isSmall:!0,isDestructive:!0,onClick:()=>(e=>{n.current&&jQuery(n.current).data("owl.carousel")&&jQuery(n.current).trigger("destroy.owl.carousel");const l=i.filter(((l,o)=>o!==e));r({images:l})})(l),style:{position:"absolute",top:"-8px",right:"-8px",padding:"2px",minWidth:"20px",height:"20px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:"×"})]},l)))})]}),(0,t.jsx)(s.SelectControl,{label:(0,l.__)("Unité de hauteur","s4-globals-blocks"),value:x,options:[{label:(0,l.__)("Pixels (px)","s4-globals-blocks"),value:"px"},{label:(0,l.__)("Rem (rem)","s4-globals-blocks"),value:"rem"},{label:(0,l.__)("Hauteur de la fenêtre (vh)","s4-globals-blocks"),value:"vh"}],onChange:e=>{r({heightUnit:e}),r("vh"===e?{height:50}:{height:400})}}),(0,t.jsx)(s.RangeControl,{label:(0,l.__)("Hauteur du carrousel","s4-globals-blocks"),value:v,onChange:e=>r({height:e}),min:"vh"===x?1:200,max:"vh"===x?100:1e3,step:"vh"===x?1:10}),(0,t.jsx)(s.RangeControl,{label:(0,l.__)("Hauteur minimale (px)","s4-globals-blocks"),value:_,onChange:e=>r({minHeight:e}),min:100,max:800,step:10}),(0,t.jsx)(s.SelectControl,{label:(0,l.__)("Ajustement de l'image","s4-globals-blocks"),value:j,options:[{label:(0,l.__)("Couvrir","s4-globals-blocks"),value:"cover"},{label:(0,l.__)("Contenir","s4-globals-blocks"),value:"contain"}],onChange:e=>r({imageFit:e})}),(0,t.jsx)(s.RangeControl,{label:(0,l.__)("Éléments à afficher","s4-globals-blocks"),value:c,onChange:e=>r({items:e}),min:1,max:5}),(0,t.jsx)(s.RangeControl,{label:(0,l.__)("Marge entre les éléments","s4-globals-blocks"),value:g,onChange:e=>r({margin:e}),min:0,max:50}),(0,t.jsx)(s.RangeControl,{label:(0,l.__)("Délai d'autoplay (ms)","s4-globals-blocks"),value:m,onChange:e=>r({autoplayTimeout:e}),min:0,max:1e4,step:500}),(0,t.jsx)(s.ToggleControl,{label:(0,l.__)("Boucle","s4-globals-blocks"),checked:u,onChange:e=>r({loop:e})}),(0,t.jsx)(s.ToggleControl,{label:(0,l.__)("Flèches de navigation","s4-globals-blocks"),checked:b,onChange:e=>r({nav:e})}),(0,t.jsx)(s.ToggleControl,{label:(0,l.__)("Points de navigation","s4-globals-blocks"),checked:p,onChange:e=>r({dots:e})}),(0,t.jsx)(s.ToggleControl,{label:(0,l.__)("Lecture automatique","s4-globals-blocks"),checked:d,onChange:e=>r({autoplay:e})}),(0,t.jsx)(s.ToggleControl,{label:(0,l.__)("Pause au survol","s4-globals-blocks"),checked:h,onChange:e=>r({autoplayHoverPause:e})}),(0,t.jsx)(s.ToggleControl,{label:(0,l.__)("Masquer le débordement","s4-globals-blocks"),checked:k,onChange:e=>r({overflowHidden:e})}),(0,t.jsx)(s.TextControl,{label:(0,l.__)("Classe CSS personnalisée","s4-globals-blocks"),value:e.customClass||"",onChange:e=>r({customClass:e})}),(0,t.jsx)("p",{className:"components-base-control__help",style:{fontSize:"12px",color:"#757575",marginTop:"4px"},children:(0,l.__)("Ajoutez une classe CSS personnalisée pour styliser votre carrousel.","s4-globals-blocks")})]})}),(0,t.jsx)("div",{...(0,o.useBlockProps)(),children:(0,t.jsx)("div",{className:"owl-carousel",ref:n,style:{height:`${v}${x}`,minHeight:`${_}px`},children:i.map(((e,l)=>(0,t.jsx)("div",{className:"item",children:(0,t.jsx)("img",{src:e.url,alt:e.alt,style:{objectFit:j}})},l)))})})]})}})}},o={};function s(e){var a=o[e];if(void 0!==a)return a.exports;var t=o[e]={exports:{}};return l[e](t,t.exports,s),t.exports}s.m=l,e=[],s.O=(l,o,a,t)=>{if(!o){var r=1/0;for(u=0;u<e.length;u++){for(var[o,a,t]=e[u],n=!0,i=0;i<o.length;i++)(!1&t||r>=t)&&Object.keys(s.O).every((e=>s.O[e](o[i])))?o.splice(i--,1):(n=!1,t<r&&(r=t));if(n){e.splice(u--,1);var c=a();void 0!==c&&(l=c)}}return l}t=t||0;for(var u=e.length;u>0&&e[u-1][2]>t;u--)e[u]=e[u-1];e[u]=[o,a,t]},s.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={804:0,764:0};s.O.j=l=>0===e[l];var l=(l,o)=>{var a,t,[r,n,i]=o,c=0;if(r.some((l=>0!==e[l]))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(i)var u=i(s)}for(l&&l(o);c<r.length;c++)t=r[c],s.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return s.O(u)},o=globalThis.webpackChunks4_globals_blocks=globalThis.webpackChunks4_globals_blocks||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))})();var a=s.O(void 0,[764],(()=>s(576)));a=s.O(a)})();